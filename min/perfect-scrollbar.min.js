(function(b){var C={wheelSpeed:10,wheelPropagation:!1};b.fn.perfectScrollbar=function(w,s){return this.each(function(){var u=b.extend(!0,{},C);"object"===typeof w?b.extend(!0,u,w):s=w;"update"===s&&(s="updateBarSizeAndPosition");if("string"===typeof s&&"function"===typeof b(this).data("perfect-scrollbar-"+s))return b(this).data("perfect-scrollbar-"+s)(),b(this);if(b(this).data("perfect-scrollbar"))return b(this).data("perfect-scrollbar");var a=b(this).addClass("ps-container"),c=b("<div class='ps-scrollbar-x ps-active'></div>").appendTo(a),
e=b("<div class='ps-scrollbar-y ps-active'></div>").appendTo(a),h,d,n,p,q,k,v=parseInt(c.css("bottom"),10),r,m,x=parseInt(e.css("right"),10),t,z=function(){var l=parseInt(m*p/d,10);a.scrollTop(l);c.css({bottom:v-l})},A=function(){var l=parseInt(k*n/h,10);a.scrollLeft(l);e.css({right:x-l})},D=function(){var l,f;c.on("mousedown.perfect-scroll",function(a){f=a.pageX;l=c.position().left;c.addClass("in-scrolling");a.stopPropagation();a.preventDefault()});b(document).on("mousemove.perfect-scroll",function(g){if(c.hasClass("in-scrolling")){A();
var y=l+(g.pageX-f),b=h-q;k=0>y?0:y>b?b:y;c.css({left:k+a.scrollLeft()});g.stopPropagation();g.preventDefault()}});b(document).on("mouseup.perfect-scroll",function(a){c.hasClass("in-scrolling")&&c.removeClass("in-scrolling")})},E=function(){var l,f;e.on("mousedown.perfect-scroll",function(a){f=a.pageY;l=e.position().top;e.addClass("in-scrolling");a.stopPropagation();a.preventDefault()});b(document).on("mousemove.perfect-scroll",function(g){if(e.hasClass("in-scrolling")){z();var b=l+(g.pageY-f),c=
d-r;m=0>b?0:b>c?c:b;e.css({top:m+a.scrollTop()});g.stopPropagation();g.preventDefault()}});b(document).on("mouseup.perfect-scroll",function(a){e.hasClass("in-scrolling")&&e.removeClass("in-scrolling")})},F=function(){a.on("mousewheel.perfect-scroll",function(b,f,g,c){a.scrollTop(a.scrollTop()-c*u.wheelSpeed);a.scrollLeft(a.scrollLeft()+g*u.wheelSpeed);a.data("perfect-scrollbar-updateBarSizeAndPosition")();f=a.scrollTop();0===f&&0<c&&0===g||f>=p-d&&0>c&&0===g?g=!u.wheelPropagation:(f=a.scrollLeft(),
g=0===f&&0>g&&0===c||f>=n-h&&0<g&&0===c?!u.wheelPropagation:!0);g&&b.preventDefault()})},G=function(){var c=function(c,b){a.scrollTop(a.scrollTop()-b);a.scrollLeft(a.scrollLeft()-c);a.data("perfect-scrollbar-updateBarSizeAndPosition")()},f={},g=0,e,h,d=null,k=!1;b(window).on("touchstart.perfect-scroll",".ps-container",function(a){k=!0});b(window).on("touchend.perfect-scroll",".ps-container",function(a){k=!1});a.on("touchstart.perfect-scroll",function(a){var c=a.originalEvent.targetTouches[0];f.pageX=
c.pageX;f.pageY=c.pageY;g=(new Date).getTime();null!==d&&clearInterval(d);a.stopPropagation()});a.on("touchmove.perfect-scroll",function(a){if(!k&&1===a.originalEvent.targetTouches.length){var b=a.originalEvent.targetTouches[0],d={};d.pageX=b.pageX;d.pageY=b.pageY;var b=d.pageX-f.pageX,m=d.pageY-f.pageY;c(b,m);f=d;d=(new Date).getTime();e=b/(d-g);h=m/(d-g);g=d;a.preventDefault()}});a.on("touchend.perfect-scroll",function(a){d=setInterval(function(){0.01>Math.abs(e)&&0.01>Math.abs(h)?clearInterval(d):
(c(30*e,30*h),e*=0.8,h*=0.8)},10)})},H=function(l){a.addClass("ie").addClass("ie"+l);var f=function(){B=function(){c.css({left:k+a.scrollLeft(),bottom:v,width:q});e.css({top:m+a.scrollTop(),right:x,height:r});c.hide().show();e.hide().show()};z=function(){var b=parseInt(m*p/d,10);a.scrollTop(b);c.css({bottom:v});c.hide().show()};A=function(){var b=parseInt(k*n/h,10);a.scrollLeft(b);e.hide().show()}};6===l&&(function(){var d=function(){b(this).addClass("hover")},f=function(){b(this).removeClass("hover")};
a.bind("mouseenter.perfect-scroll",d).bind("mouseleave.perfect-scroll",f);c.bind("mouseenter.perfect-scroll",d).bind("mouseleave.perfect-scroll",f);e.bind("mouseenter.perfect-scroll",d).bind("mouseleave.perfect-scroll",f)}(),f())},B=function(){c.css({left:k+a.scrollLeft(),bottom:v-a.scrollTop(),width:q});e.css({top:m+a.scrollTop(),right:x-a.scrollLeft(),height:r})};t={hide:function(){c.removeClass("ps-active");e.removeClass("ps-active")},hideX:function(){c.removeClass("ps-active")},hideY:function(){e.removeClass("ps-active")},
show:function(){c.addClass("ps-active");e.addClass("ps-active")},showX:function(){c.addClass("ps-active")},showY:function(){e.addClass("ps-active")},destroy:function(){c.remove();e.remove();a.off(".perfect-scroll");b(window).off(".perfect-scroll");a.data("perfect-scrollbar",null);for(var d in t)a.data("perfect-scrollbar-"+d,null);a.data("perfect-scrollbar-update",null);a.data("perfect-scrollbar-destroy",null)},updateBarSizeAndPosition:function(){h=a.width();d=a.height();n=a.prop("scrollWidth");p=
a.prop("scrollHeight");h<n?(q=parseInt(h*h/n,10),k=parseInt(a.scrollLeft()*h/n,10)):(k=q=0,a.scrollLeft(0));d<p?(r=parseInt(d*d/p,10),m=parseInt(a.scrollTop()*d/p,10)):(m=r=0,a.scrollTop(0));m>=d-r&&(m=d-r);k>=h-q&&(k=h-q);B()}};var I="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch;(function(){var b=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);b&&"msie"===b[1]&&H(parseInt(b[2],10));t.updateBarSizeAndPosition();D();E();I&&G();a.mousewheel&&F();
a.data("perfect-scrollbar",a);for(var c in t)"function"===typeof t[c]&&a.data("perfect-scrollbar-"+c,t[c])})();return a})}})(jQuery);